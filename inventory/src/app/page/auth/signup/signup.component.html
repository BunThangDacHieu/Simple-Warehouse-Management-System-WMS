<p-toast></p-toast>

<div class="register-container">
  <!-- Background Pattern -->
  <div class="background-pattern"></div>

  <!-- Content -->
  <div class="content">
    <div class="image-side">
      <div class="image-container">
        <app-image-login-signup></app-image-login-signup>
        <div class="image-overlay">
          <h3>Tham gia cùng chúng tôi!</h3>
          <p>Tạo tài khoản để bắt đầu quản lý kho hàng</p>
        </div>
      </div>
    </div>

    <div class="form">
      <div class="form-container">
        <div class="form-header">
          <h2 class="form-title">
            <i class="pi pi-user-plus"></i>
            Đăng Ký
          </h2>
          <p class="form-subtitle">Tạo tài khoản mới để sử dụng hệ thống</p>
        </div>

        <form [formGroup]="registerForm" (ngSubmit)="register()" class="register-form">
          <!-- Tên -->
          <div class="form-group">
            <label for="name" class="form-label">
              <i class="pi pi-user"></i>
              Họ và tên
            </label>
            <input
              id="name"
              type="text"
              pInputText
              formControlName="name"
              placeholder="Nhập họ và tên của bạn"
              class="form-input"
            />
          </div>

          <!-- Email -->
          <div class="form-group">
            <label for="email" class="form-label">
              <i class="pi pi-envelope"></i>
              Email
            </label>
            <input
              id="email"
              type="email"
              pInputText
              formControlName="email"
              placeholder="Nhập email của bạn"
              class="form-input"
            />
          </div>

          <!-- Mật khẩu -->
          <div class="form-group">
            <label for="password" class="form-label">
              <i class="pi pi-lock"></i>
              Mật khẩu
            </label>
            <p-password
              id="password"
              formControlName="password"
              placeholder="Nhập mật khẩu"
              [feedback]="false"
              [toggleMask]="true"
              styleClass="custom-password"
            ></p-password>
          </div>

          <!-- Vai trò -->
          <div class="form-group">
            <label for="role" class="form-label">
              <i class="pi pi-briefcase"></i>
              Vai trò
            </label>
            <p-dropdown
              id="role"
              [options]="roles"
              optionLabel="label"
              optionValue="value"
              formControlName="role"
              placeholder="Chọn vai trò của bạn"
              styleClass="custom-dropdown"
            ></p-dropdown>
          </div>

          <!-- Chỉ hiện khi là Supplier -->
          <div class="supplier-fields" *ngIf="registerForm.get('role')?.value === 'SUPPLIER'">
            <div class="supplier-header">
              <h4 class="supplier-title">
                <i class="pi pi-building"></i>
                Thông tin nhà cung cấp
              </h4>
            </div>

            <div class="form-group">
              <label for="address" class="form-label">
                <i class="pi pi-map-marker"></i>
                Địa chỉ
              </label>
              <input
                id="address"
                type="text"
                pInputText
                formControlName="address"
                placeholder="Nhập địa chỉ của bạn"
                class="form-input"
              />
            </div>

            <div class="form-group">
              <label for="phone" class="form-label">
                <i class="pi pi-phone"></i>
                Số điện thoại
              </label>
              <input
                id="phone"
                type="text"
                pInputText
                formControlName="phone"
                placeholder="Nhập số điện thoại liên hệ"
                class="form-input"
              />
            </div>
          </div>

          <button
            pButton
            type="submit"
            class="register-button"
            [loading]="false"
          >
            <i class="pi pi-user-plus"></i>
            Tạo tài khoản
          </button>

          <div class="form-footer">
            <p class="login-text">
              Đã có tài khoản?
              <a href="/login" class="login-link">
                <i class="pi pi-sign-in"></i>
                Đăng nhập ngay
              </a>
            </p>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
