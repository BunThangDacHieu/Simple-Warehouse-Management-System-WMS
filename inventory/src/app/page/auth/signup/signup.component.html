<p-toast></p-toast>

<div class="register-container">
  <!-- Content -->
  <div class="content">
    <div class="image-side">
      <app-image-login-signup></app-image-login-signup>
    </div>

    <div class="form">
      <p-card class="shadow">
        <h2 class="text-center">Đăng Ký</h2>

        <form [formGroup]="registerForm" (ngSubmit)="register()">
          <!-- Tên -->
          <div class="p-field">
            <label for="name">Tên</label>
            <input
              id="name"
              type="text"
              pInputText
              formControlName="name"
              placeholder="Nhập tên"
            />
          </div>

          <!-- Email -->
          <div class="p-field">
            <label for="email">Email</label>
            <input
              id="email"
              type="email"
              pInputText
              formControlName="email"
              placeholder="Nhập email"
            />
          </div>

          <!-- Mật khẩu -->
          <div class="p-field">
            <label for="password">Mật khẩu</label>
            <p-password
              id="password"
              formControlName="password"
              placeholder="Nhập mật khẩu"
              [feedback]="false"
            ></p-password>
          </div>

          <!-- Vai trò -->
          <div class="p-field">
            <label for="role">Vai trò</label>
            <p-dropdown
              id="role"
              [options]="roles"
              optionLabel="label"
              optionValue="value"
              formControlName="role"
              placeholder="Chọn vai trò"
            ></p-dropdown>
          </div>

          <!-- Chỉ hiện khi là Supplier -->
          <div *ngIf="registerForm.get('role')?.value === 'SUPPLIER'">
            <div class="p-field">
              <label for="address">Địa chỉ</label>
              <input
                id="address"
                type="text"
                pInputText
                formControlName="address"
                placeholder="Nhập địa chỉ"
              />
            </div>

            <div class="p-field">
              <label for="phone">Số điện thoại liên hệ</label>
              <input
                id="phone"
                type="text"
                pInputText
                formControlName="phone"
                placeholder="Nhập số điện thoại"
              />
            </div>
          </div>

          <button
            pButton
            type="submit"
            label="Đăng ký"
            class="w-100 mt-3"
          ></button>

          <p class="small fw-bold mt-2 pt-1 mb-2 text-center">
            Đã có tài khoản?
            <a href="/login" class="link-danger">Đăng nhập</a>
          </p>
        </form>
      </p-card>
    </div>
  </div>

  <!-- Footer -->
  <footer class="footer">
    <app-footer></app-footer>
  </footer>
</div>
